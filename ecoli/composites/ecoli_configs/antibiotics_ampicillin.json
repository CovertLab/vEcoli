{
    "inherit_from": ["antibiotics.json"],
    "add_processes": [
        "death",
        "ecoli-cell-wall",
        "ecoli-pbp-binding",
        "ecoli-shape"
    ],
    "total_time": 100,
    
    "emitter_arg": [
        ["host", "localhost:27017"]
    ],
    "emitter": "database",

    "initial_state_file": "wcecoli_t0",
    "initial_state_overrides": ["overrides/reduced_murein"],

    "engine_process_reports": [
        ["bulk", "CPD-12261[p]"],
        ["bulk", "CPLX0-7717[m]"],
        ["bulk", "CPLX0-3951[i]"],
        ["murein_state", "incorporated_murein"],
        ["murein_state", "unincorporated_murein"],
        ["murein_state", "shadow_murein"],
        ["shape", "volume"],
        ["wall_state", "lattice_rows"],
        ["wall_state", "lattice_cols"],
        ["wall_state", "extension_factor"],
        ["wall_state", "cracked"],
        ["pbp_state", "active_fraction_PBP1A"],
        ["pbp_state", "active_fraction_PBP1B"]
    ],

    "topology": {
        "antibiotic-transport-odeint": {
            "ampicillin": {
                "species": {
                    "_path": ["null"],
                    "hydrolyzed": ["..", "periplasm", "concentrations", "ampicillin_hydrolyzed"],
                    "internal": ["..", "periplasm", "concentrations", "ampicillin"]
                },
                "delta_species": ["bioscrape_deltas"],
                "exchanges": {
                    "external": ["environment", "exchange", "ampicillin"]
                },
                "external": {
                    "external": ["boundary", "external", "ampicillin"]
                },
                "reaction_parameters": {
                    "diffusion": {
                        "_path": ["null"],
                        "permeability": ["..", "kinetic_parameters", "outer_ampicillin_permeability"],
                        "area": ["..", "boundary", "surface_area"],
                        "volume": ["..", "periplasm", "global", "volume"],
                        "charge": ["..", "kinetic_parameters", "ampicillin_charge"]
                    },
                    "export": {
                        "_path": ["null"],
                        "kcat": ["..", "kinetic_parameters", "export_kcat"],
                        "km": ["..", "kinetic_parameters", "export_km"],
                        "n": ["..", "kinetic_parameters", "export_n"],
                        "enzyme_conc": ["..", "periplasm", "concentrations", "TRANS-CPLX-201[m]"]
                    },
                    "hydrolysis": {
                        "_path": ["null"],
                        "kcat": ["..", "kinetic_parameters", "hydrolysis_kcat"],
                        "km": ["..", "kinetic_parameters", "hydrolysis_km"],
                        "n": ["..", "kinetic_parameters", "hydrolysis_n"],
                        "enzyme_conc": ["..", "periplasm", "concentrations", "EG10040-MONOMER[p]"]
                    }
                }
            }
        },
        "permeability": {
            "porins": ["bulk"],
            "permeabilities": ["kinetic_parameters"],
            "surface_area": ["boundary", "surface_area"]
        },
        "death": {
            "global": ["boundary"],
            "processes": [],
            "internal": {
                "_path": ["null"],
                "ampicillin": ["..", "periplasm", "concentrations", "ampicillin"]
            }

        },
        "ecoli-cell-wall": {
            "shape": ["boundary"],
            "bulk_murein": ["bulk"],
            "murein_state": ["murein_state"],
            "PBP": ["bulk"],
            "wall_state": ["wall_state"],
            "listeners": ["listeners"]
        },
        "ecoli-pbp-binding": {
            "total_murein": ["bulk"],
            "murein_state": ["murein_state"],
            "concentrations": ["concentrations"],
            "bulk": ["bulk"],
            "pbp_state": ["pbp_state"]
        },
        "ecoli-shape": {
            "cell_global": ["boundary"],
            "periplasm_global": ["periplasm", "global"],
            "listener_cell_mass": ["listeners", "mass", "cell_mass"],
            "listener_cell_volume": ["listeners", "mass", "volume"]
          }
    },
    "process_configs": {
        "antibiotic-transport-odeint": {
            "initial_reaction_parameters": {
                "ampicillin": {
                    "diffusion": {
                        "permeability": "!ParameterSerializer[ampicillin>permeability>outer]",
                        "area": "!ParameterSerializer[shape>initial_area]",
                        "volume": "!ParameterSerializer[shape>initial_periplasm_volume]",
                        "charge": "!units[0 count]"
                    },
                    "export": {
                        "kcat": "!ParameterSerializer[ampicillin>efflux>kcat]",
                        "km": "!ParameterSerializer[ampicillin>efflux>km]",
                        "n": "!ParameterSerializer[ampicillin>efflux>n]",
                        "enzyme_conc": "!ParameterSerializer[concs>initial_pump]"
                    },
                    "hydrolysis": {
                        "kcat": "!ParameterSerializer[ampicillin>hydrolysis>kcat]",
                        "km": "!ParameterSerializer[ampicillin>hydrolysis>km]",
                        "n": "!ParameterSerializer[ampicillin>hydrolysis>n]",
                        "enzyme_conc": "!ParameterSerializer[concs>initial_hydrolase]"
                    }
                }
            }
        },
        "permeability": {
            "porin_ids": ["CPLX0-7533[o]", "CPLX0-7534[o]"],
            "diffusing_molecules": {
                "outer_ampicillin_permeability": {
                    "concentration_perm": {
                        "CPLX0-7533[o]": "!units[0 L / second]",
                        "CPLX0-7534[o]": "!ParameterSerializer[ampicillin>per_porin_permeability>outer>ompf]"
                    },
                    "bilayer_perm": "!units[0 centimeter / second]"
                }
            }
        },
        "death": {
            "detectors": [
                ["antibiotic", {
                    "antibiotic_threshold": "!units[0.0025 millimolar]",
                    "antibiotic_key": "ampicillin"
                }]
            ],
            "to_add": {
                "antibiotic-transport-odeint-diffusion-only": [
                    "antibiotic-transport-odeint",
                    {
                        "initial_reaction_parameters": {
                            "ampicillin": {
                                "diffusion": {
                                    "permeability": "!ParameterSerializer[ampicillin>permeability>outer]",
                                    "area": "!ParameterSerializer[shape>initial_area]",
                                    "volume": "!ParameterSerializer[shape>initial_periplasm_volume]",
                                    "charge": "!units[0 count]"
                                },
                                "export": {
                                    "kcat": "!ParameterSerializer[ampicillin>efflux>kcat]",
                                    "km": "!ParameterSerializer[ampicillin>efflux>km]",
                                    "n": "!ParameterSerializer[ampicillin>efflux>n]",
                                    "enzyme_conc": "!ParameterSerializer[concs>initial_pump]"
                                },
                                "hydrolysis": {
                                    "kcat": "!ParameterSerializer[ampicillin>hydrolysis>kcat]",
                                    "km": "!ParameterSerializer[ampicillin>hydrolysis>km]",
                                    "n": "!ParameterSerializer[ampicillin>hydrolysis>n]",
                                    "enzyme_conc": "!ParameterSerializer[concs>initial_hydrolase]"
                                }
                            }
                        },
                        "diffusion_only": true
                    },
                    {
                        "ampicillin": {
                            "species": {
                                "_path": ["null"],
                                "hydrolyzed": ["..", "periplasm", "concentrations", "ampicillin_hydrolyzed"],
                                "internal": ["..", "periplasm", "concentrations", "ampicillin"]
                            },
                            "delta_species": ["bioscrape_deltas"],
                            "exchanges": {
                                "external": ["environment", "exchange", "ampicillin"]
                            },
                            "external": {
                                "external": ["boundary", "external", "ampicillin"]
                            },
                            "reaction_parameters": {
                                "diffusion": {
                                    "_path": ["null"],
                                    "permeability": ["..", "kinetic_parameters", "outer_ampicillin_permeability"],
                                    "area": ["..", "boundary", "surface_area"],
                                    "volume": ["..", "periplasm", "global", "volume"],
                                    "charge": ["..", "kinetic_parameters", "ampicillin_charge"]
                                },
                                "export": {
                                    "_path": ["null"],
                                    "kcat": ["..", "kinetic_parameters", "export_kcat"],
                                    "km": ["..", "kinetic_parameters", "export_km"],
                                    "n": ["..", "kinetic_parameters", "export_n"],
                                    "enzyme_conc": ["..", "periplasm", "concentrations", "TRANS-CPLX-201[m]"]
                                },
                                "hydrolysis": {
                                    "_path": ["null"],
                                    "kcat": ["..", "kinetic_parameters", "hydrolysis_kcat"],
                                    "km": ["..", "kinetic_parameters", "hydrolysis_km"],
                                    "n": ["..", "kinetic_parameters", "hydrolysis_n"],
                                    "enzyme_conc": ["..", "periplasm", "concentrations", "EG10040-MONOMER[p]"]
                                }
                            }
                        }
                    }
                ]
            }
        },
        "ecoli-cell-wall": {

        },
        "ecoli-pbp-binding": {

        },
        "ecoli-shape": {
            "global": {
              "_path": "boundary",
              "volume": ["..", "listeners", "mass", "volume"]
            }
        },
        "ecoli-metabolism": {
            "reduce_murein_objective" : true
        }
    },

    "flow": {
        "ecoli-shape": [["ecoli-mass-listener"]],
        "ecoli-pbp-binding": [["ecoli-metabolism"]]
      }
}
