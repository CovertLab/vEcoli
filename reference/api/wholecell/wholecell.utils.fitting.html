

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>wholecell.utils.fitting &mdash; Vivarium E. coli 1.0.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/theme.css?v=e59714d7" />

  
      <script src="../../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../../_static/documentation_options.js?v=8d563738"></script>
      <script src="../../../_static/doctools.js?v=9bcbadda"></script>
      <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="wholecell.utils.forkedPdb" href="wholecell.utils.forkedPdb.html" />
    <link rel="prev" title="wholecell.utils.filepath" href="wholecell.utils.filepath.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../index.html" class="icon icon-home">
            Vivarium E. coli
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../stores.html">Stores</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../processes.html">Processes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../composites.html">Composites</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../experiments.html">Experiments</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../workflows.html">Workflows</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../output.html">Output</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../tutorial.html">Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../docs.html">Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../hpc.html">HPC Clusters</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../gcloud.html">Google Cloud</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../ci.html">Continuous Integration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../pycharm.html">PyCharm Setup</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../api_ref.html">API Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../ecoli/ecoli.html"><code class="docutils literal notranslate"><span class="pre">ecoli</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reconstruction/reconstruction.html"><code class="docutils literal notranslate"><span class="pre">reconstruction</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../runscripts/runscripts.html"><code class="docutils literal notranslate"><span class="pre">runscripts</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../validation/validation.html"><code class="docutils literal notranslate"><span class="pre">validation</span></code></a></li>
<li class="toctree-l2 current"><a class="reference internal" href="wholecell.html"><code class="docutils literal notranslate"><span class="pre">wholecell</span></code></a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="wholecell.io.html"><code class="docutils literal notranslate"><span class="pre">wholecell.io</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="wholecell.tests.html"><code class="docutils literal notranslate"><span class="pre">wholecell.tests</span></code></a></li>
<li class="toctree-l3 current"><a class="reference internal" href="wholecell.utils.html"><code class="docutils literal notranslate"><span class="pre">wholecell.utils</span></code></a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="wholecell.utils.build_ode.html"><code class="docutils literal notranslate"><span class="pre">wholecell.utils.build_ode</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="wholecell.utils.constants.html"><code class="docutils literal notranslate"><span class="pre">wholecell.utils.constants</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="wholecell.utils.data.html"><code class="docutils literal notranslate"><span class="pre">wholecell.utils.data</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="wholecell.utils.dependency_graph.html"><code class="docutils literal notranslate"><span class="pre">wholecell.utils.dependency_graph</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="wholecell.utils.fast_nonnegative_least_squares.html"><code class="docutils literal notranslate"><span class="pre">wholecell.utils.fast_nonnegative_least_squares</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="wholecell.utils.filepath.html"><code class="docutils literal notranslate"><span class="pre">wholecell.utils.filepath</span></code></a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#"><code class="docutils literal notranslate"><span class="pre">wholecell.utils.fitting</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="wholecell.utils.forkedPdb.html"><code class="docutils literal notranslate"><span class="pre">wholecell.utils.forkedPdb</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="wholecell.utils.make_media.html"><code class="docutils literal notranslate"><span class="pre">wholecell.utils.make_media</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="wholecell.utils.mc_complexation.html"><code class="docutils literal notranslate"><span class="pre">wholecell.utils.mc_complexation</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="wholecell.utils.memory_debug.html"><code class="docutils literal notranslate"><span class="pre">wholecell.utils.memory_debug</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="wholecell.utils.modular_fba.html"><code class="docutils literal notranslate"><span class="pre">wholecell.utils.modular_fba</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="wholecell.utils.parallelization.html"><code class="docutils literal notranslate"><span class="pre">wholecell.utils.parallelization</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="wholecell.utils.plotting_tools.html"><code class="docutils literal notranslate"><span class="pre">wholecell.utils.plotting_tools</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="wholecell.utils.polymerize.html"><code class="docutils literal notranslate"><span class="pre">wholecell.utils.polymerize</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="wholecell.utils.profiler.html"><code class="docutils literal notranslate"><span class="pre">wholecell.utils.profiler</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="wholecell.utils.protein_counts.html"><code class="docutils literal notranslate"><span class="pre">wholecell.utils.protein_counts</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="wholecell.utils.random.html"><code class="docutils literal notranslate"><span class="pre">wholecell.utils.random</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="wholecell.utils.sparkline.html"><code class="docutils literal notranslate"><span class="pre">wholecell.utils.sparkline</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="wholecell.utils.spatial_tool.html"><code class="docutils literal notranslate"><span class="pre">wholecell.utils.spatial_tool</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="wholecell.utils.test_parallelization.html"><code class="docutils literal notranslate"><span class="pre">wholecell.utils.test_parallelization</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="wholecell.utils.toya.html"><code class="docutils literal notranslate"><span class="pre">wholecell.utils.toya</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="wholecell.utils.unit_struct_array.html"><code class="docutils literal notranslate"><span class="pre">wholecell.utils.unit_struct_array</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="wholecell.utils.units.html"><code class="docutils literal notranslate"><span class="pre">wholecell.utils.units</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="wholecell.utils.voronoi_plot_main.html"><code class="docutils literal notranslate"><span class="pre">wholecell.utils.voronoi_plot_main</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">Vivarium E. coli</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../api_ref.html">API Reference</a></li>
          <li class="breadcrumb-item"><a href="wholecell.html"><code class="docutils literal notranslate"><span class="pre">wholecell</span></code></a></li>
          <li class="breadcrumb-item"><a href="wholecell.utils.html"><code class="docutils literal notranslate"><span class="pre">wholecell.utils</span></code></a></li>
      <li class="breadcrumb-item active"><code class="docutils literal notranslate"><span class="pre">wholecell.utils.fitting</span></code></li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../_sources/reference/api/wholecell/wholecell.utils.fitting.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-wholecell.utils.fitting">
<span id="wholecell-utils-fitting"></span><h1><code class="docutils literal notranslate"><span class="pre">wholecell.utils.fitting</span></code><a class="headerlink" href="#module-wholecell.utils.fitting" title="Link to this heading"></a></h1>
<dl class="py function">
<dt class="sig sig-object py" id="wholecell.utils.fitting.calcProteinCounts">
<span class="sig-prename descclassname"><span class="pre">wholecell.utils.fitting.</span></span><span class="sig-name descname"><span class="pre">calcProteinCounts</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sim_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">monomerMass</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/wholecell/utils/fitting.html#calcProteinCounts"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wholecell.utils.fitting.calcProteinCounts" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="wholecell.utils.fitting.calcProteinDistribution">
<span class="sig-prename descclassname"><span class="pre">wholecell.utils.fitting.</span></span><span class="sig-name descname"><span class="pre">calcProteinDistribution</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sim_data</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/wholecell/utils/fitting.html#calcProteinDistribution"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wholecell.utils.fitting.calcProteinDistribution" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="wholecell.utils.fitting.calcProteinTotalCounts">
<span class="sig-prename descclassname"><span class="pre">wholecell.utils.fitting.</span></span><span class="sig-name descname"><span class="pre">calcProteinTotalCounts</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sim_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">monomerMass</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">monomerExpression</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/wholecell/utils/fitting.html#calcProteinTotalCounts"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wholecell.utils.fitting.calcProteinTotalCounts" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="wholecell.utils.fitting.cosine_similarity">
<span class="sig-prename descclassname"><span class="pre">wholecell.utils.fitting.</span></span><span class="sig-name descname"><span class="pre">cosine_similarity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">samples</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/wholecell/utils/fitting.html#cosine_similarity"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wholecell.utils.fitting.cosine_similarity" title="Link to this definition"></a></dt>
<dd><p>Finds the cosine similarity between samples.</p>
<p>samples is a matrix of size (n_samples, sample_size)</p>
<p>The output is a matrix of size (n_samples, n_samples).</p>
<p>The cosine similarity is the normalized dot product between two
vectors.  The name originates from the fact that the normalized dot
product between two vectors is equal to the cosine of the angle
formed by the two vectors.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="wholecell.utils.fitting.countsFromMassAndExpression">
<span class="sig-prename descclassname"><span class="pre">wholecell.utils.fitting.</span></span><span class="sig-name descname"><span class="pre">countsFromMassAndExpression</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mass</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mws</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">relativeExpression</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nAvogadro</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/wholecell/utils/fitting.html#countsFromMassAndExpression"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wholecell.utils.fitting.countsFromMassAndExpression" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mass</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a>) – Total mass you want counts to sum to</p></li>
<li><p><strong>mws</strong> (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.3)"><em>ndarray</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)"><em>tuple</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a><em>, </em><em>...</em><em>]</em><em>, </em><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.dtype.html#numpy.dtype" title="(in NumPy v2.3)"><em>dtype</em></a><em>[</em><em>float64</em><em>]</em><em>]</em>) – Molecular weights of each species</p></li>
<li><p><strong>relativeExpression</strong> (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.3)"><em>ndarray</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)"><em>tuple</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a><em>, </em><em>...</em><em>]</em><em>, </em><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.dtype.html#numpy.dtype" title="(in NumPy v2.3)"><em>dtype</em></a><em>[</em><em>float64</em><em>]</em><em>]</em>) – Relative expression of each species</p></li>
<li><p><strong>nAvogadro</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a>) – Avogadro’s number</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Counts of each molecule</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.3)"><em>ndarray</em></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)">tuple</a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)">int</a>, …], <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.dtype.html#numpy.dtype" title="(in NumPy v2.3)"><em>dtype</em></a>[<em>float64</em>]]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="wholecell.utils.fitting.fit_linearized_transforms">
<span class="sig-prename descclassname"><span class="pre">wholecell.utils.fitting.</span></span><span class="sig-name descname"><span class="pre">fit_linearized_transforms</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x_fun</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_fun</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">r_tol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.99</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">p_tol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.01</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/wholecell/utils/fitting.html#fit_linearized_transforms"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wholecell.utils.fitting.fit_linearized_transforms" title="Link to this definition"></a></dt>
<dd><p>Transforms x and y data based on a set of functions and finds the transforms
that lead to the best linear fit of the data.  Can use the return values
as args to interpolate_linearized_fit in order to interpolate new x values.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.3)"><em>ndarray</em></a>) – x data to fit</p></li>
<li><p><strong>y</strong> (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.3)"><em>ndarray</em></a>) – y data to fit</p></li>
<li><p><strong>x_fun</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><em>List</em></a><em> | </em><em>None</em>) – list of functions to try for transforming x data</p></li>
<li><p><strong>y_fun</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><em>List</em></a><em> | </em><em>None</em>) – list of functions to try for transforming y data</p></li>
<li><p><strong>r_tol</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a>) – best fit r value needs to be higher than this value</p></li>
<li><p><strong>p_tol</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a>) – best fit p value needs to be lower than this value</p></li>
<li><p><strong>verbose</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em> | </em><em>None</em>) – if given, prints the r and p value for each function pair that
results in an r value higher than this</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><p>4-element tuple containing</p>
<ul class="simple">
<li><p><strong>x_transform</strong>: name of the best transformation function for x data</p></li>
<li><p><strong>y_transform</strong>: name of the best transformation function for y data</p></li>
<li><p><strong>slope</strong>: best fit slope for the transformed data</p></li>
<li><p><strong>intercept</strong>: best fit intercept for the transformed data</p></li>
</ul>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.13)"><em>Tuple</em></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a>, <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)">float</a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)">float</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="wholecell.utils.fitting.interpolate_linearized_fit">
<span class="sig-prename descclassname"><span class="pre">wholecell.utils.fitting.</span></span><span class="sig-name descname"><span class="pre">interpolate_linearized_fit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x_transform</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_transform</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">slope</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">intercept</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/wholecell/utils/fitting.html#interpolate_linearized_fit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wholecell.utils.fitting.interpolate_linearized_fit" title="Link to this definition"></a></dt>
<dd><p>Interpolate one or more values based on the linearized fit parameters.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="wholecell.utils.fitting.masses_and_counts_for_homeostatic_target">
<span class="sig-prename descclassname"><span class="pre">wholecell.utils.fitting.</span></span><span class="sig-name descname"><span class="pre">masses_and_counts_for_homeostatic_target</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dry_mass_of_non_small_molecules</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">concentrations</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weights</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cell_density</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">avogadros_number</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/wholecell/utils/fitting.html#masses_and_counts_for_homeostatic_target"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wholecell.utils.fitting.masses_and_counts_for_homeostatic_target" title="Link to this definition"></a></dt>
<dd><p>Computes the dry mass fractions and counts associated with small molecules to maintain
concentrations consistent with targets.  (Also includes water.)</p>
<p>The cell is composed of a number of ‘mass fractions’ i.e. DNA, RNA, protein, water, and
the less specific “small molecules” which includes both inorganic and organic molecular species
that form part of a cell.  While we take many of the former calculations as ground truth, we
chose to adjust (recompute) the small molecule mass fraction according to per-molecule
observations of small molecule concentrations (compiled from various sources).</p>
<p>However, this creates a potential issue: we need the small molecule mass to compute the volume,
and the volume in turn is used to compute the counts (and therefore masses) of the small
molecules.  We denote the first small molecule mass as Ms, and the second as Ms’.</p>
<p>The total mass of the cell, Mt, is the sum of the small and non-small molecule masses:</p>
<p>Mt = Ms + Mns</p>
<p>The volume of the cell V times the density of the cell rho is Mt, and therefore</p>
<p>rho * V = Ms + Mns</p>
<p>Ms = rho * V - Mns</p>
<p>This gives us our first calculation of the small molecule mass.  For the second calculation, we
first find the abundance of each small molecule species (count n_i) as</p>
<p>n_i = V * c_i</p>
<p>where c_i is the concentration of each species.  Then the mass associated with each species is</p>
<p>m_i = V * w_i * c_i</p>
<p>where w_i is the molecular weight of a given species,.  Finally, the total small molecule mass,
estimated from small molecule counts, is</p>
<p>Ms’ = sum_i m_i = V * w^T c</p>
<p>where w^T c is the dot-product between the two vectors.</p>
<p>Equating Ms’ and Ms, and solving for V:</p>
<p>V = Mns / (rho - w^Tc)</p>
<p>This allows us to compute the new volume, from which we can also compute and return all n_i and
m_i.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dry_mass_of_non_small_molecules</strong> (<em>Unum</em>) – float unit’d scalar, dimensions of mass
The total mass of the cell, minus the ‘wet’ mass (water) and the dry mass of other small
molecules.</p></li>
<li><p><strong>concentrations</strong> (<em>Unum</em>) – 1-D float unit’d array, with dimensions of concentration
The target concentrations of the small molecules.</p></li>
<li><p><strong>weights</strong> (<em>Unum</em>) – 1-D float unit’d array, with dimensions of mass per mol
The molecular weights of the small molecules.</p></li>
<li><p><strong>cell_density</strong> (<em>Unum</em>) – float unit’d scalar, dimensions of mass per volume
The total density of the cell (wet and dry mass).</p></li>
<li><p><strong>avogadros_number</strong> (<em>Unum</em>) – float unit’d scalar, dimensions of per mol
The number of molecules per mole.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><p>2-element tuple containing</p>
<ul class="simple">
<li><p><strong>masses</strong>: The mass associated with each molecular species,</p></li>
<li><p><strong>counts</strong>: The counts associated with each molecular species</p></li>
</ul>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)">tuple</a>[<em>Unum</em>, <em>Unum</em>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="wholecell.utils.fitting.normalize">
<span class="sig-prename descclassname"><span class="pre">wholecell.utils.fitting.</span></span><span class="sig-name descname"><span class="pre">normalize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">array</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/wholecell/utils/fitting.html#normalize"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wholecell.utils.fitting.normalize" title="Link to this definition"></a></dt>
<dd></dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="wholecell.utils.filepath.html" class="btn btn-neutral float-left" title="wholecell.utils.filepath" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="wholecell.utils.forkedPdb.html" class="btn btn-neutral float-right" title="wholecell.utils.forkedPdb" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021-2025, The Vivarium E. coli Authors.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>