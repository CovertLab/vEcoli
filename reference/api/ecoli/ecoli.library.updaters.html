

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ecoli.library.updaters &mdash; Vivarium E. coli 1.0.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/theme.css?v=e59714d7" />

  
      <script src="../../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../../_static/documentation_options.js?v=8d563738"></script>
      <script src="../../../_static/doctools.js?v=9bcbadda"></script>
      <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="ecoli.processes" href="ecoli.processes.html" />
    <link rel="prev" title="ecoli.library.units" href="ecoli.library.units.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../index.html" class="icon icon-home">
            Vivarium E. coli
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../stores.html">Stores</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../processes.html">Processes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../composites.html">Composites</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../experiments.html">Experiments</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../workflows.html">Workflows</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../output.html">Output</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../tutorial.html">Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../docs.html">Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../hpc.html">HPC Clusters</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../gcloud.html">Google Cloud</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../ci.html">Continuous Integration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../pycharm.html">PyCharm Setup</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../api_ref.html">API Reference</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="ecoli.html"><code class="docutils literal notranslate"><span class="pre">ecoli</span></code></a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="ecoli.analysis.html"><code class="docutils literal notranslate"><span class="pre">ecoli.analysis</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="ecoli.composites.html"><code class="docutils literal notranslate"><span class="pre">ecoli.composites</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="ecoli.experiments.html"><code class="docutils literal notranslate"><span class="pre">ecoli.experiments</span></code></a></li>
<li class="toctree-l3 current"><a class="reference internal" href="ecoli.library.html"><code class="docutils literal notranslate"><span class="pre">ecoli.library</span></code></a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="ecoli.library.cell_wall.html"><code class="docutils literal notranslate"><span class="pre">ecoli.library.cell_wall</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="ecoli.library.create_timeline.html"><code class="docutils literal notranslate"><span class="pre">ecoli.library.create_timeline</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="ecoli.library.data_predicates.html"><code class="docutils literal notranslate"><span class="pre">ecoli.library.data_predicates</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="ecoli.library.initial_conditions.html"><code class="docutils literal notranslate"><span class="pre">ecoli.library.initial_conditions</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="ecoli.library.json_state.html"><code class="docutils literal notranslate"><span class="pre">ecoli.library.json_state</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="ecoli.library.kinetic_rate_laws.html"><code class="docutils literal notranslate"><span class="pre">ecoli.library.kinetic_rate_laws</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="ecoli.library.lattice_utils.html"><code class="docutils literal notranslate"><span class="pre">ecoli.library.lattice_utils</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="ecoli.library.logging_tools.html"><code class="docutils literal notranslate"><span class="pre">ecoli.library.logging_tools</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="ecoli.library.parameters.html"><code class="docutils literal notranslate"><span class="pre">ecoli.library.parameters</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="ecoli.library.parquet_emitter.html"><code class="docutils literal notranslate"><span class="pre">ecoli.library.parquet_emitter</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="ecoli.library.pymunk_multibody.html"><code class="docutils literal notranslate"><span class="pre">ecoli.library.pymunk_multibody</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="ecoli.library.schema.html"><code class="docutils literal notranslate"><span class="pre">ecoli.library.schema</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="ecoli.library.serialize.html"><code class="docutils literal notranslate"><span class="pre">ecoli.library.serialize</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="ecoli.library.sim_data.html"><code class="docutils literal notranslate"><span class="pre">ecoli.library.sim_data</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="ecoli.library.test_parquet_emitter.html"><code class="docutils literal notranslate"><span class="pre">ecoli.library.test_parquet_emitter</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="ecoli.library.units.html"><code class="docutils literal notranslate"><span class="pre">ecoli.library.units</span></code></a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#"><code class="docutils literal notranslate"><span class="pre">ecoli.library.updaters</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="ecoli.processes.html"><code class="docutils literal notranslate"><span class="pre">ecoli.processes</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="ecoli.variants.html"><code class="docutils literal notranslate"><span class="pre">ecoli.variants</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../reconstruction/reconstruction.html"><code class="docutils literal notranslate"><span class="pre">reconstruction</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../runscripts/runscripts.html"><code class="docutils literal notranslate"><span class="pre">runscripts</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../validation/validation.html"><code class="docutils literal notranslate"><span class="pre">validation</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../wholecell/wholecell.html"><code class="docutils literal notranslate"><span class="pre">wholecell</span></code></a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">Vivarium E. coli</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../api_ref.html">API Reference</a></li>
          <li class="breadcrumb-item"><a href="ecoli.html"><code class="docutils literal notranslate"><span class="pre">ecoli</span></code></a></li>
          <li class="breadcrumb-item"><a href="ecoli.library.html"><code class="docutils literal notranslate"><span class="pre">ecoli.library</span></code></a></li>
      <li class="breadcrumb-item active"><code class="docutils literal notranslate"><span class="pre">ecoli.library.updaters</span></code></li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../_sources/reference/api/ecoli/ecoli.library.updaters.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-ecoli.library.updaters">
<span id="ecoli-library-updaters"></span><h1><code class="docutils literal notranslate"><span class="pre">ecoli.library.updaters</span></code><a class="headerlink" href="#module-ecoli.library.updaters" title="Link to this heading"></a></h1>
<section id="registry-of-inverse-updaters">
<h2>Registry of Inverse Updaters<a class="headerlink" href="#registry-of-inverse-updaters" title="Link to this heading"></a></h2>
<p>You should interpret words and phrases that appear fully capitalized in
this document as described in <span class="target" id="index-0"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc2119.html"><strong>RFC 2119</strong></a>. Here is a brief summary of
the RFC:</p>
<ul class="simple">
<li><p>“MUST” indicates absolute requirements. Vivarium may not work
correctly if you don’t follow these.</p></li>
<li><p>“SHOULD” indicates strong suggestions. You might have a valid reason
for deviating from them, but be careful that you understand the
ramifications.</p></li>
<li><p>“MAY” indicates truly optional features that you can include or
exclude as you wish.</p></li>
</ul>
<section id="inverse-updaters">
<h3>Inverse Updaters<a class="headerlink" href="#inverse-updaters" title="Link to this heading"></a></h3>
<p>Inverse updaters accept a final and an initial state, and they attempt
to compute an update that could be given to a particular <a class="reference external" href="https://vivarium-core.readthedocs.io/en/latest/reference/glossary.html#term-updater" title="(in Vivarium Core vv1.5.3)"><span class="xref std std-term">updater</span></a>
to get from the initial state to the final state.</p>
<section id="inverse-updater-api">
<h4>Inverse Updater API<a class="headerlink" href="#inverse-updater-api" title="Link to this heading"></a></h4>
<p>An inverse updater MUST be registered with the same name as its
associated updater. The function MUST accept exactly 2 positional
arguments: the initial state and the final state. The function SHOULD
not accept any other parameters. The function MUST return only the
update needed to get from the initial state to the final state. The
function SHOULD have a name that matches its associated updater
function, only prefixed with <code class="docutils literal notranslate"><span class="pre">inverse_</span></code>. Inverse updaters MUST return
an empty dictionary only if the update can be ignored.</p>
</section>
</section>
</section>
<dl class="py data">
<dt class="sig sig-object py" id="ecoli.library.updaters._NO_UPDATE_NEEDED">
<span class="sig-prename descclassname"><span class="pre">ecoli.library.updaters.</span></span><span class="sig-name descname"><span class="pre">_NO_UPDATE_NEEDED</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'No</span> <span class="pre">update</span> <span class="pre">needed'</span></em><a class="headerlink" href="#ecoli.library.updaters._NO_UPDATE_NEEDED" title="Link to this definition"></a></dt>
<dd><p>Special signal used by _reverse_deep_merge to communicate that no
updates are needed. Using this signal reduces the update size by
eliminating subtrees of empty updates.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ecoli.library.updaters._reverse_deep_merge">
<span class="sig-prename descclassname"><span class="pre">ecoli.library.updaters.</span></span><span class="sig-name descname"><span class="pre">_reverse_deep_merge</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">initial</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">final</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ecoli/library/updaters.html#_reverse_deep_merge"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ecoli.library.updaters._reverse_deep_merge" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ecoli.library.updaters.inverse_update_accumulate">
<span class="sig-prename descclassname"><span class="pre">ecoli.library.updaters.</span></span><span class="sig-name descname"><span class="pre">inverse_update_accumulate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">initial_state</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">final_state</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ecoli/library/updaters.html#inverse_update_accumulate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ecoli.library.updaters.inverse_update_accumulate" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ecoli.library.updaters.inverse_update_bulk_numpy">
<span class="sig-prename descclassname"><span class="pre">ecoli.library.updaters.</span></span><span class="sig-name descname"><span class="pre">inverse_update_bulk_numpy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">initial_state</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">final_state</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ecoli/library/updaters.html#inverse_update_bulk_numpy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ecoli.library.updaters.inverse_update_bulk_numpy" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ecoli.library.updaters.inverse_update_merge">
<span class="sig-prename descclassname"><span class="pre">ecoli.library.updaters.</span></span><span class="sig-name descname"><span class="pre">inverse_update_merge</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">initial_state</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">final_state</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ecoli/library/updaters.html#inverse_update_merge"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ecoli.library.updaters.inverse_update_merge" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ecoli.library.updaters.inverse_update_nonnegative_accumulate">
<span class="sig-prename descclassname"><span class="pre">ecoli.library.updaters.</span></span><span class="sig-name descname"><span class="pre">inverse_update_nonnegative_accumulate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">initial_state</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">final_state</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ecoli/library/updaters.html#inverse_update_nonnegative_accumulate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ecoli.library.updaters.inverse_update_nonnegative_accumulate" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ecoli.library.updaters.inverse_update_null">
<span class="sig-prename descclassname"><span class="pre">ecoli.library.updaters.</span></span><span class="sig-name descname"><span class="pre">inverse_update_null</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">initial_state</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">final_state</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ecoli/library/updaters.html#inverse_update_null"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ecoli.library.updaters.inverse_update_null" title="Link to this definition"></a></dt>
<dd><p>The null updater ignores the update.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ecoli.library.updaters.inverse_update_set">
<span class="sig-prename descclassname"><span class="pre">ecoli.library.updaters.</span></span><span class="sig-name descname"><span class="pre">inverse_update_set</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">initial_state</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">final_state</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ecoli/library/updaters.html#inverse_update_set"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ecoli.library.updaters.inverse_update_set" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ecoli.library.updaters.inverse_update_unique_numpy">
<span class="sig-prename descclassname"><span class="pre">ecoli.library.updaters.</span></span><span class="sig-name descname"><span class="pre">inverse_update_unique_numpy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">initial_state</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">final_state</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ecoli/library/updaters.html#inverse_update_unique_numpy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ecoli.library.updaters.inverse_update_unique_numpy" title="Link to this definition"></a></dt>
<dd></dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="ecoli.library.units.html" class="btn btn-neutral float-left" title="ecoli.library.units" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="ecoli.processes.html" class="btn btn-neutral float-right" title="ecoli.processes" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021-2025, The Vivarium E. coli Authors.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>