

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ecoli.processes.spatiality.diffusion_network &mdash; Vivarium E. coli 1.0.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/theme.css?v=e59714d7" />

  
      <script src="../../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../../_static/documentation_options.js?v=8d563738"></script>
      <script src="../../../_static/doctools.js?v=9bcbadda"></script>
      <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
      <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
      <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="ecoli.processes.spatiality.spatial_geometry" href="ecoli.processes.spatiality.spatial_geometry.html" />
    <link rel="prev" title="ecoli.processes.spatiality" href="ecoli.processes.spatiality.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../index.html" class="icon icon-home">
            Vivarium E. coli
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../stores.html">Stores</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../processes.html">Processes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../composites.html">Composites</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../experiments.html">Experiments</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../workflows.html">Workflows</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../output.html">Output</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../tutorial.html">Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../docs.html">Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../hpc.html">HPC Clusters</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../gcloud.html">Google Cloud</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../ci.html">Continuous Integration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../pycharm.html">PyCharm Setup</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../api_ref.html">API Reference</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="ecoli.html"><code class="docutils literal notranslate"><span class="pre">ecoli</span></code></a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="ecoli.analysis.html"><code class="docutils literal notranslate"><span class="pre">ecoli.analysis</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="ecoli.composites.html"><code class="docutils literal notranslate"><span class="pre">ecoli.composites</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="ecoli.experiments.html"><code class="docutils literal notranslate"><span class="pre">ecoli.experiments</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="ecoli.library.html"><code class="docutils literal notranslate"><span class="pre">ecoli.library</span></code></a></li>
<li class="toctree-l3 current"><a class="reference internal" href="ecoli.processes.html"><code class="docutils literal notranslate"><span class="pre">ecoli.processes</span></code></a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="ecoli.processes.chemotaxis.html"><code class="docutils literal notranslate"><span class="pre">ecoli.processes.chemotaxis</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="ecoli.processes.environment.html"><code class="docutils literal notranslate"><span class="pre">ecoli.processes.environment</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="ecoli.processes.listeners.html"><code class="docutils literal notranslate"><span class="pre">ecoli.processes.listeners</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="ecoli.processes.membrane.html"><code class="docutils literal notranslate"><span class="pre">ecoli.processes.membrane</span></code></a></li>
<li class="toctree-l4 current"><a class="reference internal" href="ecoli.processes.spatiality.html"><code class="docutils literal notranslate"><span class="pre">ecoli.processes.spatiality</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="ecoli.processes.stubs.html"><code class="docutils literal notranslate"><span class="pre">ecoli.processes.stubs</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="ecoli.processes.allocator.html"><code class="docutils literal notranslate"><span class="pre">ecoli.processes.allocator</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="ecoli.processes.bulk_timeline.html"><code class="docutils literal notranslate"><span class="pre">ecoli.processes.bulk_timeline</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="ecoli.processes.cell_division.html"><code class="docutils literal notranslate"><span class="pre">ecoli.processes.cell_division</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="ecoli.processes.chemostat.html"><code class="docutils literal notranslate"><span class="pre">ecoli.processes.chemostat</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="ecoli.processes.chromosome_replication.html"><code class="docutils literal notranslate"><span class="pre">ecoli.processes.chromosome_replication</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="ecoli.processes.chromosome_structure.html"><code class="docutils literal notranslate"><span class="pre">ecoli.processes.chromosome_structure</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="ecoli.processes.complexation.html"><code class="docutils literal notranslate"><span class="pre">ecoli.processes.complexation</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="ecoli.processes.concentrations_deriver.html"><code class="docutils literal notranslate"><span class="pre">ecoli.processes.concentrations_deriver</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="ecoli.processes.division_detector.html"><code class="docutils literal notranslate"><span class="pre">ecoli.processes.division_detector</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="ecoli.processes.engine_process.html"><code class="docutils literal notranslate"><span class="pre">ecoli.processes.engine_process</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="ecoli.processes.enzyme_kinetics.html"><code class="docutils literal notranslate"><span class="pre">ecoli.processes.enzyme_kinetics</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="ecoli.processes.equilibrium.html"><code class="docutils literal notranslate"><span class="pre">ecoli.processes.equilibrium</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="ecoli.processes.global_clock.html"><code class="docutils literal notranslate"><span class="pre">ecoli.processes.global_clock</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="ecoli.processes.metabolism.html"><code class="docutils literal notranslate"><span class="pre">ecoli.processes.metabolism</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="ecoli.processes.metabolism_redux.html"><code class="docutils literal notranslate"><span class="pre">ecoli.processes.metabolism_redux</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="ecoli.processes.metabolism_redux_classic.html"><code class="docutils literal notranslate"><span class="pre">ecoli.processes.metabolism_redux_classic</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="ecoli.processes.partition.html"><code class="docutils literal notranslate"><span class="pre">ecoli.processes.partition</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="ecoli.processes.polypeptide_elongation.html"><code class="docutils literal notranslate"><span class="pre">ecoli.processes.polypeptide_elongation</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="ecoli.processes.polypeptide_initiation.html"><code class="docutils literal notranslate"><span class="pre">ecoli.processes.polypeptide_initiation</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="ecoli.processes.protein_degradation.html"><code class="docutils literal notranslate"><span class="pre">ecoli.processes.protein_degradation</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="ecoli.processes.registries.html"><code class="docutils literal notranslate"><span class="pre">ecoli.processes.registries</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="ecoli.processes.rna_degradation.html"><code class="docutils literal notranslate"><span class="pre">ecoli.processes.rna_degradation</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="ecoli.processes.rna_interference.html"><code class="docutils literal notranslate"><span class="pre">ecoli.processes.rna_interference</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="ecoli.processes.rna_maturation.html"><code class="docutils literal notranslate"><span class="pre">ecoli.processes.rna_maturation</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="ecoli.processes.shape.html"><code class="docutils literal notranslate"><span class="pre">ecoli.processes.shape</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="ecoli.processes.tf_binding.html"><code class="docutils literal notranslate"><span class="pre">ecoli.processes.tf_binding</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="ecoli.processes.tf_unbinding.html"><code class="docutils literal notranslate"><span class="pre">ecoli.processes.tf_unbinding</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="ecoli.processes.transcript_elongation.html"><code class="docutils literal notranslate"><span class="pre">ecoli.processes.transcript_elongation</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="ecoli.processes.transcript_initiation.html"><code class="docutils literal notranslate"><span class="pre">ecoli.processes.transcript_initiation</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="ecoli.processes.two_component_system.html"><code class="docutils literal notranslate"><span class="pre">ecoli.processes.two_component_system</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="ecoli.processes.unique_update.html"><code class="docutils literal notranslate"><span class="pre">ecoli.processes.unique_update</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="ecoli.variants.html"><code class="docutils literal notranslate"><span class="pre">ecoli.variants</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../reconstruction/reconstruction.html"><code class="docutils literal notranslate"><span class="pre">reconstruction</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../runscripts/runscripts.html"><code class="docutils literal notranslate"><span class="pre">runscripts</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../validation/validation.html"><code class="docutils literal notranslate"><span class="pre">validation</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../wholecell/wholecell.html"><code class="docutils literal notranslate"><span class="pre">wholecell</span></code></a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">Vivarium E. coli</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../api_ref.html">API Reference</a></li>
          <li class="breadcrumb-item"><a href="ecoli.html"><code class="docutils literal notranslate"><span class="pre">ecoli</span></code></a></li>
          <li class="breadcrumb-item"><a href="ecoli.processes.html"><code class="docutils literal notranslate"><span class="pre">ecoli.processes</span></code></a></li>
          <li class="breadcrumb-item"><a href="ecoli.processes.spatiality.html"><code class="docutils literal notranslate"><span class="pre">ecoli.processes.spatiality</span></code></a></li>
      <li class="breadcrumb-item active"><code class="docutils literal notranslate"><span class="pre">ecoli.processes.spatiality.diffusion_network</span></code></li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../_sources/reference/api/ecoli/ecoli.processes.spatiality.diffusion_network.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-ecoli.processes.spatiality.diffusion_network">
<span id="ecoli-processes-spatiality-diffusion-network"></span><h1><code class="docutils literal notranslate"><span class="pre">ecoli.processes.spatiality.diffusion_network</span></code><a class="headerlink" href="#module-ecoli.processes.spatiality.diffusion_network" title="Link to this heading"></a></h1>
<section id="diffusion-network">
<h2>Diffusion Network<a class="headerlink" href="#diffusion-network" title="Link to this heading"></a></h2>
<p><code class="docutils literal notranslate"><span class="pre">DiffusionNetwork</span></code> models Brownian diffusion using a network of nodes
and edges. Each node acts as a cellular compartment and each edge connects
those compartments, indicating where diffusion can occur.</p>
<p>This <a class="reference external" href="https://vivarium-core.readthedocs.io/en/latest/reference/glossary.html#term-process-class" title="(in Vivarium Core vv1.5.3)"><span class="xref std std-term">process class</span></a> models diffusion based off of Fick’s law.
The following equation is used:</p>
<ul class="simple">
<li><p>Diffusion: <span class="math notranslate nohighlight">\(\frac{dc}{dt} = \frac{DA}{V} * \frac{dc}{dx}\)</span></p></li>
</ul>
<blockquote>
<div><ul class="simple">
<li><p><span class="math notranslate nohighlight">\(D\)</span>: Diffusion constant</p></li>
<li><p><span class="math notranslate nohighlight">\(A\)</span>: Cross-sectional area of edge</p></li>
<li><p><span class="math notranslate nohighlight">\(V\)</span>: Volume of node</p></li>
</ul>
</div></blockquote>
<p>This diffusion equation is solved using implicit Euler to derive a
matrix, M, that updates the concentration, c(t), on each timestep.</p>
<ul class="simple">
<li><p>Concentration update: <span class="math notranslate nohighlight">\(c_{t+1} = M^{-1} * c_{t}\)</span></p></li>
</ul>
<p>This process takes in molecular weights in order to solve for
molecule hydrodynamic radii, which is it turn used to solve for
diffusion constants. These calculations assume that all
molecules are spherical proteins. For more information on how
this is done, see <code class="docutils literal notranslate"><span class="pre">calculate_rp_from_mw</span></code> and
<code class="docutils literal notranslate"><span class="pre">compute_diffusion_constants_from_rp</span></code>.  However, if a
molecule radius is known, it can be passed in as <code class="docutils literal notranslate"><span class="pre">radii</span></code>.
Similarly, if the diffusion constant is known, it can be passed
in as a property of an edge as <code class="docutils literal notranslate"><span class="pre">diffusion_constants</span></code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This model treats all molecule classes as concentrations and is
a deterministic solution. This model should only be used when there
is a sufficient number of molecules such that they can be treated
deterministically.</p>
</div>
</section>
<dl class="py class">
<dt class="sig sig-object py" id="ecoli.processes.spatiality.diffusion_network.DiffusionNetwork">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ecoli.processes.spatiality.diffusion_network.</span></span><span class="sig-name descname"><span class="pre">DiffusionNetwork</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parameters</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ecoli/processes/spatiality/diffusion_network.html#DiffusionNetwork"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ecoli.processes.spatiality.diffusion_network.DiffusionNetwork" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://vivarium-core.readthedocs.io/en/latest/reference/api/vivarium.core.process.html#vivarium.core.process.Process" title="(in Vivarium Core vv1.5.3)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Process</span></code></a></p>
<p>Models diffusion between a network of connected nodes.</p>
<p><a class="reference external" href="https://vivarium-core.readthedocs.io/en/latest/reference/glossary.html#term-Ports" title="(in Vivarium Core vv1.5.3)"><span class="xref std std-term">Ports</span></a>:</p>
<ul class="simple">
<li><p><strong>nodes</strong>: Expects a <a class="reference external" href="https://vivarium-core.readthedocs.io/en/latest/reference/glossary.html#term-store" title="(in Vivarium Core vv1.5.3)"><span class="xref std std-term">store</span></a> which is a dict of node names
(the keys of the dict) to a dict, which has the key value
pairs for <code class="docutils literal notranslate"><span class="pre">length</span></code>, <code class="docutils literal notranslate"><span class="pre">volume</span></code>, and <code class="docutils literal notranslate"><span class="pre">molecules</span></code>.</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>parameters</strong> – <p>A dictionary of configuration options.
The following configuration options may be provided:</p>
<ul class="simple">
<li><p><strong>nodes</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a>): A list of node names.</p></li>
<li><p><strong>edges</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a>): Maps edge
names (the keys of the dict) to a dict (the values of
the dict), which must include the key-value pairs of
<code class="docutils literal notranslate"><span class="pre">nodes</span></code> to a list of nodes each edge connects, and
<code class="docutils literal notranslate"><span class="pre">cross_sectional_area</span></code> to the area of that edge.
Additionally, known diffusion constants can be
included as <code class="docutils literal notranslate"><span class="pre">diffusion_constants</span></code> in units of
um^2/s, and edge-specific scaling of the diffusion
constants can be included as,
<code class="docutils literal notranslate"><span class="pre">diffusion_scaling_constant</span></code>.</p></li>
<li><p><strong>mw</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a>): Maps from
names of molecules (the keys of the dict) to their
molecular weights in units of fg (the values of the dict).</p></li>
<li><p><strong>mesh_size</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>): Mesh size in units of nm.</p></li>
<li><p><strong>time_step</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>): The time step used in
units of s.</p></li>
<li><p><strong>radii</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a>): Maps from molecule names
of molecules (the keys of the dict) to their known
hydrodynamic radii in units of nm (the values of the dict).
This is an optional parameter.</p></li>
<li><p><strong>temp</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>): Temperature of experiment
in units of K. This is an optional parameter.</p></li>
</ul>
</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="ecoli.processes.spatiality.diffusion_network.DiffusionNetwork.calculate_request">
<span class="sig-name descname"><span class="pre">calculate_request</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">timestep</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">states</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ecoli/processes/spatiality/diffusion_network.html#DiffusionNetwork.calculate_request"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ecoli.processes.spatiality.diffusion_network.DiffusionNetwork.calculate_request" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ecoli.processes.spatiality.diffusion_network.DiffusionNetwork.defaults">
<span class="sig-name descname"><span class="pre">defaults</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'edges':</span> <span class="pre">{},</span> <span class="pre">'mesh_size':</span> <span class="pre">50,</span> <span class="pre">'mw':</span> <span class="pre">{},</span> <span class="pre">'nodes':</span> <span class="pre">[],</span> <span class="pre">'radii':</span> <span class="pre">{},</span> <span class="pre">'temp':</span> <span class="pre">310.15,</span> <span class="pre">'time_step':</span> <span class="pre">0.1}</span></em><a class="headerlink" href="#ecoli.processes.spatiality.diffusion_network.DiffusionNetwork.defaults" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ecoli.processes.spatiality.diffusion_network.DiffusionNetwork.name">
<span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'diffusion_network'</span></em><a class="headerlink" href="#ecoli.processes.spatiality.diffusion_network.DiffusionNetwork.name" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ecoli.processes.spatiality.diffusion_network.DiffusionNetwork.next_update">
<span class="sig-name descname"><span class="pre">next_update</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">timestep</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">state</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ecoli/processes/spatiality/diffusion_network.html#DiffusionNetwork.next_update"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ecoli.processes.spatiality.diffusion_network.DiffusionNetwork.next_update" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ecoli.processes.spatiality.diffusion_network.DiffusionNetwork.ports_schema">
<span class="sig-name descname"><span class="pre">ports_schema</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ecoli/processes/spatiality/diffusion_network.html#DiffusionNetwork.ports_schema"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ecoli.processes.spatiality.diffusion_network.DiffusionNetwork.ports_schema" title="Link to this definition"></a></dt>
<dd><p>Dynamically constructs ports – one port for each node in <code class="docutils literal notranslate"><span class="pre">DiffusionNetwork.parameters['nodes']</span></code>.
Each node has variables <code class="docutils literal notranslate"><span class="pre">volume</span></code>, <code class="docutils literal notranslate"><span class="pre">length</span></code>, and a <code class="docutils literal notranslate"><span class="pre">molecules</span></code> dict with molecule names mapped
to their counts.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ecoli.processes.spatiality.diffusion_network.array_from">
<span class="sig-prename descclassname"><span class="pre">ecoli.processes.spatiality.diffusion_network.</span></span><span class="sig-name descname"><span class="pre">array_from</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">d</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ecoli/processes/spatiality/diffusion_network.html#array_from"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ecoli.processes.spatiality.diffusion_network.array_from" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ecoli.processes.spatiality.diffusion_network.array_to">
<span class="sig-prename descclassname"><span class="pre">ecoli.processes.spatiality.diffusion_network.</span></span><span class="sig-name descname"><span class="pre">array_to</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">keys</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">array</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ecoli/processes/spatiality/diffusion_network.html#array_to"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ecoli.processes.spatiality.diffusion_network.array_to" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ecoli.processes.spatiality.diffusion_network.calculate_rp_from_mw">
<span class="sig-prename descclassname"><span class="pre">ecoli.processes.spatiality.diffusion_network.</span></span><span class="sig-name descname"><span class="pre">calculate_rp_from_mw</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">molecule_ids</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mw</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ecoli/processes/spatiality/diffusion_network.html#calculate_rp_from_mw"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ecoli.processes.spatiality.diffusion_network.calculate_rp_from_mw" title="Link to this definition"></a></dt>
<dd><p>This function compute the hydrodynamic radius of a macromolecules from
its molecular weight. It is important to note that the hydrodynamic
diameter is mainly used for computation of diffusion constant, and can
be different from the observed diameter under microscopes or the radius
of gyration, especially for loose polymers such as RNAs. This function
is not E coli specific.</p>
<p>References: Bioinformatics (2012). doi:10.1093/bioinformatics/bts537</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>molecule_ids</strong> – List of molecule ids.</p></li>
<li><p><strong>mw</strong> – molecular weight of the macromolecules, units: fg.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><p>the hydrodynamic radius (in unit of nm) of the macromolecules
using the following formula:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">rp</span> <span class="pre">=</span> <span class="pre">0.0515*MW^(0.392)</span> <span class="pre">nm</span></code> (Hong &amp; Lei 2008) (protein)</p></li>
</ul>
</p>
</dd>
</dl>
<p>These parameters are also possible for other macromolecule types,
however all molecules are currently assumed to be proteins.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">rp</span> <span class="pre">=</span> <span class="pre">0.0566*MW^(0.38)</span> <span class="pre">nm</span></code> (Werner 2011) (RNA)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">rp</span> <span class="pre">=</span> <span class="pre">0.024*MW^(0.57)</span> <span class="pre">nm</span></code> (Robertson et al 2006) (linear DNA)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">rp</span> <span class="pre">=</span> <span class="pre">0.0125*MW^(0.59)</span> <span class="pre">nm</span></code> (Robertson et al 2006) (circular DNA)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">rp</span> <span class="pre">=</span> <span class="pre">0.0145*MW^(0.57)</span> <span class="pre">nm</span></code> (Robertson et al 2006) (supercoiled DNA)</p></li>
</ul>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ecoli.processes.spatiality.diffusion_network.compute_diffusion_constants_from_rp">
<span class="sig-prename descclassname"><span class="pre">ecoli.processes.spatiality.diffusion_network.</span></span><span class="sig-name descname"><span class="pre">compute_diffusion_constants_from_rp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">molecule_ids</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mesh_size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">edges</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">temp</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ecoli/processes/spatiality/diffusion_network.html#compute_diffusion_constants_from_rp"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ecoli.processes.spatiality.diffusion_network.compute_diffusion_constants_from_rp" title="Link to this definition"></a></dt>
<dd><div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The default values of the parameters are E coli specific.</p>
</div>
<p>This function computes the hypothesized diffusion constant of
macromolecules within the nucleoid and the cytoplasm region.
In literature, there is no known differentiation between the diffusion
constant of a molecule in the nucleoid and in the cytoplasm up to the
best of our knowledge in 2020. However, there is a good reason why we
can assume that previously reported diffusion constant are in fact the
diffusion constant of a protein in the nucleoid region:</p>
<ol class="arabic simple">
<li><p>The image traces of a protein within a bacteria usually cross the
nucleoid regions.</p></li>
<li><p>The nucleoid region, compared to the cytoplasm, should be the main
limiting factor restricting the magnitude of diffusion constant.</p></li>
<li><p>The same theory of diffusion constant has been implemented to
mammalian cells, and the term ‘rh’, the average hydrodynamic
radius of the biggest crowders, are different in mammalian
cytoplasm, and it seems to reflect the hydrodynamic radius of the
actin filament (note: the hydrodynamic radius of actin filament
should be computed based on the average length of actin fiber,
and is not equal to the radius of the actin filament itself.)
(ref: Nano Lett. 2011, 11, 2157-2163).  As for E coli, the ‘rh’
term = 40nm, which may correspond to the 80nm DNA fiber. On the
other hand, for the diffusion constant of E coli in the true
cytoplasm, we will expect the value of ‘rh’ term to be
approximately 10 nm, which correspond to the radius of active
ribosomes.</p></li>
</ol>
<p>Using these terms for scaling a baseline diffusion constant (calculated
from Enstein-Stokes equation), a cytosol-specific diffusion calculation
can be obtained).</p>
<p>Ref: Kalwarczyk, T., Tabaka, M. &amp; Holyst, R.
Bioinformatics (2012). doi:10.1093/bioinformatics/bts537</p>
<p>This function computes the hypothesized diffusion constant of
macromolecules within the nucleoid region by scaling the hypothesized
cytoplasm diffusion constant. There is evidence that as molecules
grow in size, they become more excluded from E. coli’s nucleoid because
the DNA polymers form a meshgrid with an estimated mesh size of 50
nm (ref: Xiang et al., bioRxiv (2020)). The equation implemented here
assumes that molecules move through the network by encountering openings
between the DNA meshgrid greater than the hydrodynamic radius.</p>
<p>Ref: Brian Amsden
Macromolecules (1999). doi:10.1021/ma980922a</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>D_0 = K_B*T/(6*pi*eta_0*rp)
ln(D_0/D_cyto) = ln(eta/eta_0) = (xi^2/Rh^2 + xi^2/rp^2)^(-a/2)
D_0 = the diffusion constant of a macromolecule in pure solvent
eta_0 = the viscosity of pure solvent, in this case, water
eta = the size-dependent viscosity experienced by the macromolecule.
xi = average distance between the surface of proteins
rh = average hydrodynamic radius of the biggest crowders
a = some constant of the order of 1
rp = hydrodynamic radius of probed molecule
</pre></div>
</div>
<p>In this formula, since we allow the changes in temperature, we also
consider the viscosity changes of water under different temperature:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>eta_0 = A*10^(B/(T-C))
A = 2.414*10^(-5) Pa*sec
B = 247.8 K
C = 140 K
</pre></div>
</div>
<p>Ref: Dortmund Data Bank</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>molecule_ids</strong> – List of molecule ids.</p></li>
<li><p><strong>rp</strong> – List of radii corresponding to each molecule id. unit: nm</p></li>
<li><p><strong>mesh_size</strong> – Size of meshgrid openings. unit: nm</p></li>
<li><p><strong>edges</strong> – Dictionary of edges.</p></li>
<li><p><strong>temp</strong> – The temperature of interest. unit: K.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>the diffusion constant of the macromolecule in units <code class="docutils literal notranslate"><span class="pre">um**2/sec</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ecoli.processes.spatiality.diffusion_network.plot_diff_range">
<span class="sig-prename descclassname"><span class="pre">ecoli.processes.spatiality.diffusion_network.</span></span><span class="sig-name descname"><span class="pre">plot_diff_range</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">diffusion_constants</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">out_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'out'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ecoli/processes/spatiality/diffusion_network.html#plot_diff_range"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ecoli.processes.spatiality.diffusion_network.plot_diff_range" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ecoli.processes.spatiality.diffusion_network.plot_output">
<span class="sig-prename descclassname"><span class="pre">ecoli.processes.spatiality.diffusion_network.</span></span><span class="sig-name descname"><span class="pre">plot_output</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">output</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nodes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">out_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'out'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ecoli/processes/spatiality/diffusion_network.html#plot_output"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ecoli.processes.spatiality.diffusion_network.plot_output" title="Link to this definition"></a></dt>
<dd></dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="ecoli.processes.spatiality.html" class="btn btn-neutral float-left" title="ecoli.processes.spatiality" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="ecoli.processes.spatiality.spatial_geometry.html" class="btn btn-neutral float-right" title="ecoli.processes.spatiality.spatial_geometry" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021-2025, The Vivarium E. coli Authors.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>