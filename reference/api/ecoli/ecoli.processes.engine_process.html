

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ecoli.processes.engine_process &mdash; Vivarium E. coli 1.0.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/theme.css?v=e59714d7" />

  
      <script src="../../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../../_static/documentation_options.js?v=8d563738"></script>
      <script src="../../../_static/doctools.js?v=9bcbadda"></script>
      <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="ecoli.processes.enzyme_kinetics" href="ecoli.processes.enzyme_kinetics.html" />
    <link rel="prev" title="ecoli.processes.division_detector" href="ecoli.processes.division_detector.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../index.html" class="icon icon-home">
            Vivarium E. coli
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../stores.html">Stores</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../processes.html">Processes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../composites.html">Composites</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../experiments.html">Experiments</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../workflows.html">Workflows</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../output.html">Output</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../tutorial.html">Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../docs.html">Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../hpc.html">HPC Clusters</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../gcloud.html">Google Cloud</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../ci.html">Continuous Integration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../pycharm.html">PyCharm Setup</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../api_ref.html">API Reference</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="ecoli.html"><code class="docutils literal notranslate"><span class="pre">ecoli</span></code></a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="ecoli.analysis.html"><code class="docutils literal notranslate"><span class="pre">ecoli.analysis</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="ecoli.composites.html"><code class="docutils literal notranslate"><span class="pre">ecoli.composites</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="ecoli.experiments.html"><code class="docutils literal notranslate"><span class="pre">ecoli.experiments</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="ecoli.library.html"><code class="docutils literal notranslate"><span class="pre">ecoli.library</span></code></a></li>
<li class="toctree-l3 current"><a class="reference internal" href="ecoli.processes.html"><code class="docutils literal notranslate"><span class="pre">ecoli.processes</span></code></a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="ecoli.processes.chemotaxis.html"><code class="docutils literal notranslate"><span class="pre">ecoli.processes.chemotaxis</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="ecoli.processes.environment.html"><code class="docutils literal notranslate"><span class="pre">ecoli.processes.environment</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="ecoli.processes.listeners.html"><code class="docutils literal notranslate"><span class="pre">ecoli.processes.listeners</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="ecoli.processes.membrane.html"><code class="docutils literal notranslate"><span class="pre">ecoli.processes.membrane</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="ecoli.processes.spatiality.html"><code class="docutils literal notranslate"><span class="pre">ecoli.processes.spatiality</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="ecoli.processes.stubs.html"><code class="docutils literal notranslate"><span class="pre">ecoli.processes.stubs</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="ecoli.processes.allocator.html"><code class="docutils literal notranslate"><span class="pre">ecoli.processes.allocator</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="ecoli.processes.bulk_timeline.html"><code class="docutils literal notranslate"><span class="pre">ecoli.processes.bulk_timeline</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="ecoli.processes.cell_division.html"><code class="docutils literal notranslate"><span class="pre">ecoli.processes.cell_division</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="ecoli.processes.chemostat.html"><code class="docutils literal notranslate"><span class="pre">ecoli.processes.chemostat</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="ecoli.processes.chromosome_replication.html"><code class="docutils literal notranslate"><span class="pre">ecoli.processes.chromosome_replication</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="ecoli.processes.chromosome_structure.html"><code class="docutils literal notranslate"><span class="pre">ecoli.processes.chromosome_structure</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="ecoli.processes.complexation.html"><code class="docutils literal notranslate"><span class="pre">ecoli.processes.complexation</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="ecoli.processes.concentrations_deriver.html"><code class="docutils literal notranslate"><span class="pre">ecoli.processes.concentrations_deriver</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="ecoli.processes.division_detector.html"><code class="docutils literal notranslate"><span class="pre">ecoli.processes.division_detector</span></code></a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#"><code class="docutils literal notranslate"><span class="pre">ecoli.processes.engine_process</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="ecoli.processes.enzyme_kinetics.html"><code class="docutils literal notranslate"><span class="pre">ecoli.processes.enzyme_kinetics</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="ecoli.processes.equilibrium.html"><code class="docutils literal notranslate"><span class="pre">ecoli.processes.equilibrium</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="ecoli.processes.global_clock.html"><code class="docutils literal notranslate"><span class="pre">ecoli.processes.global_clock</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="ecoli.processes.metabolism.html"><code class="docutils literal notranslate"><span class="pre">ecoli.processes.metabolism</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="ecoli.processes.metabolism_redux.html"><code class="docutils literal notranslate"><span class="pre">ecoli.processes.metabolism_redux</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="ecoli.processes.metabolism_redux_classic.html"><code class="docutils literal notranslate"><span class="pre">ecoli.processes.metabolism_redux_classic</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="ecoli.processes.partition.html"><code class="docutils literal notranslate"><span class="pre">ecoli.processes.partition</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="ecoli.processes.polypeptide_elongation.html"><code class="docutils literal notranslate"><span class="pre">ecoli.processes.polypeptide_elongation</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="ecoli.processes.polypeptide_initiation.html"><code class="docutils literal notranslate"><span class="pre">ecoli.processes.polypeptide_initiation</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="ecoli.processes.protein_degradation.html"><code class="docutils literal notranslate"><span class="pre">ecoli.processes.protein_degradation</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="ecoli.processes.registries.html"><code class="docutils literal notranslate"><span class="pre">ecoli.processes.registries</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="ecoli.processes.rna_degradation.html"><code class="docutils literal notranslate"><span class="pre">ecoli.processes.rna_degradation</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="ecoli.processes.rna_interference.html"><code class="docutils literal notranslate"><span class="pre">ecoli.processes.rna_interference</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="ecoli.processes.rna_maturation.html"><code class="docutils literal notranslate"><span class="pre">ecoli.processes.rna_maturation</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="ecoli.processes.shape.html"><code class="docutils literal notranslate"><span class="pre">ecoli.processes.shape</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="ecoli.processes.tf_binding.html"><code class="docutils literal notranslate"><span class="pre">ecoli.processes.tf_binding</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="ecoli.processes.tf_unbinding.html"><code class="docutils literal notranslate"><span class="pre">ecoli.processes.tf_unbinding</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="ecoli.processes.transcript_elongation.html"><code class="docutils literal notranslate"><span class="pre">ecoli.processes.transcript_elongation</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="ecoli.processes.transcript_initiation.html"><code class="docutils literal notranslate"><span class="pre">ecoli.processes.transcript_initiation</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="ecoli.processes.two_component_system.html"><code class="docutils literal notranslate"><span class="pre">ecoli.processes.two_component_system</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="ecoli.processes.unique_update.html"><code class="docutils literal notranslate"><span class="pre">ecoli.processes.unique_update</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="ecoli.variants.html"><code class="docutils literal notranslate"><span class="pre">ecoli.variants</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../reconstruction/reconstruction.html"><code class="docutils literal notranslate"><span class="pre">reconstruction</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../runscripts/runscripts.html"><code class="docutils literal notranslate"><span class="pre">runscripts</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../validation/validation.html"><code class="docutils literal notranslate"><span class="pre">validation</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../wholecell/wholecell.html"><code class="docutils literal notranslate"><span class="pre">wholecell</span></code></a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">Vivarium E. coli</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../api_ref.html">API Reference</a></li>
          <li class="breadcrumb-item"><a href="ecoli.html"><code class="docutils literal notranslate"><span class="pre">ecoli</span></code></a></li>
          <li class="breadcrumb-item"><a href="ecoli.processes.html"><code class="docutils literal notranslate"><span class="pre">ecoli.processes</span></code></a></li>
      <li class="breadcrumb-item active"><code class="docutils literal notranslate"><span class="pre">ecoli.processes.engine_process</span></code></li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../_sources/reference/api/ecoli/ecoli.processes.engine_process.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-ecoli.processes.engine_process">
<span id="ecoli-processes-engine-process"></span><h1><code class="docutils literal notranslate"><span class="pre">ecoli.processes.engine_process</span></code><a class="headerlink" href="#module-ecoli.processes.engine_process" title="Link to this heading"></a></h1>
<section id="engineprocess">
<h2>EngineProcess<a class="headerlink" href="#engineprocess" title="Link to this heading"></a></h2>
<section id="tunnel-ports">
<h3>Tunnel Ports<a class="headerlink" href="#tunnel-ports" title="Link to this heading"></a></h3>
<p>Sometimes, a process inside the EngineProcess might need to be wired to
a store outside the EngineProcess, or an outside process might need to
be wired to an inside store. We handle this with _tunnels_.</p>
<p>Here is a state hierarchy showing how a tunnel connects an outside
process (<code class="docutils literal notranslate"><span class="pre">A</span></code>) to an inside store (<code class="docutils literal notranslate"><span class="pre">store1</span></code>). We call this a “tunnel
in” because the exterior process is tunneling into EngineProcess to see
an internal store. Essentially, EngineProcess has a port for the tunnel
in that connects to some store in the outer simulation here called
<code class="docutils literal notranslate"><span class="pre">dummy_store</span></code>. The process <code class="docutils literal notranslate"><span class="pre">A</span></code> connects to that same store. When
the <code class="docutils literal notranslate"><span class="pre">next_update</span></code> method of EngineProcess runs, the value of <code class="docutils literal notranslate"><span class="pre">store1</span></code>
in the inner simulation is read and copied through the tunnel in port
to <code class="docutils literal notranslate"><span class="pre">dummy_store</span></code>, where it can be read by process <code class="docutils literal notranslate"><span class="pre">A</span></code>. Conversely,
if process <code class="docutils literal notranslate"><span class="pre">A</span></code> modifies the value of <code class="docutils literal notranslate"><span class="pre">dummy_store</span></code>, the <code class="docutils literal notranslate"><span class="pre">next_update</span></code>
method of EngineProcess ensures that <code class="docutils literal notranslate"><span class="pre">store1</span></code> reflects that change the
next time it is run. It is the user’s responsibility to define the topology
of EngineProcess such that the tunnel in port points to the store where
the outer simulation process (here, process <code class="docutils literal notranslate"><span class="pre">A</span></code>) expects the data to be
(here, <code class="docutils literal notranslate"><span class="pre">dummy_store</span></code>).</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>         ________________
        /      |         \    EngineProcess
dummy_store  +---+    +-------------------------+
    :  :.....| A |    |                         |
    :        +---+    |        /\               |
    :                 |       /  \              |
    :                 |  +---+    store1        |
    :                 |  | B |       ^          |
    :                 |  +---+       |          |
    :                 |              |          |
    :.............tunnel_in &lt;-- next_update     |
                      |                         |
                      +-------------------------+
</pre></div>
</div>
<p>Here is another example where a tunnel connects an inside process
(<code class="docutils literal notranslate"><span class="pre">B</span></code>) to an outside store (<code class="docutils literal notranslate"><span class="pre">store2</span></code>). We call this a “tunnel out”
because the interior process is tunneling outside of EngineProcess to
see an external store. In this case, EngineProcess has a port for the
tunnel out that connects to <code class="docutils literal notranslate"><span class="pre">store2</span></code> in the outer simulation. When
the <code class="docutils literal notranslate"><span class="pre">next_update</span></code> method of EngineProcess is called, the value of
<code class="docutils literal notranslate"><span class="pre">store2</span></code> is read and copied to a store in the inner simulation
(here, <code class="docutils literal notranslate"><span class="pre">dummy_store</span></code>) where it is read by process <code class="docutils literal notranslate"><span class="pre">B</span></code>. Unlike
tunnels in, all tunnels out are automatically created and wired
because EngineProcess only needs to have the complete inner simulation
topology to know exactly what inner process ports connect to stores in
the outer simulation and what paths those outer simulation stores have.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>      /\
     /  \        EngineProcess
    /    +-------------------------+
 store2  |                         |
   :     |        /\               |
   :     |       /  \              |
   :     |  +---+    dummy_store   |
...:     |  | B |.......:    ^     |
:        |  +---+            |     |
:        |                   |     |
:..tunnel_out &lt;----- next_update   |
         |                         |
         +-------------------------+
</pre></div>
</div>
<p>In these diagrams, processes are boxes, stores are labeled nodes in the
tree, solid lines show the state hierarchy, dotted lines show the
topology wiring, and <code class="docutils literal notranslate"><span class="pre">tunnel_out</span></code>/<code class="docutils literal notranslate"><span class="pre">tunnel_in</span></code> are ports for
EngineProcess.</p>
<p>These tunnels are the only way that the EngineProcess exchanges
information with the outside simulation.</p>
</section>
</section>
<dl class="py class">
<dt class="sig sig-object py" id="ecoli.processes.engine_process.EngineProcess">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ecoli.processes.engine_process.</span></span><span class="sig-name descname"><span class="pre">EngineProcess</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parameters</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ecoli/processes/engine_process.html#EngineProcess"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ecoli.processes.engine_process.EngineProcess" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://vivarium-core.readthedocs.io/en/latest/reference/api/vivarium.core.process.html#vivarium.core.process.Process" title="(in Vivarium Core vv1.5.3)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Process</span></code></a></p>
<p>Process that wraps a Vivarium simulation by taking the following options
in its parameter dictionary:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">inner_composer</span></code>: a composer for the inner simulation</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">inner_composer_config</span></code>: a configuration dictionary for that composer</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">outer_composer</span></code>: a composer that can be used upon division to create a new
EngineProcess (including a new inner simulation using the inner composer) plus
as any other processes that make up a single simulation</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">outer_composer_config</span></code>: a configuration dictionary for that composer</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">tunnels_in</span></code>: a mapping from port names to paths of stores in the
inner simulation that processes in the outer simulation would like
access to. <a class="reference internal" href="ecoli.experiments.ecoli_engine_process.html#ecoli.experiments.ecoli_engine_process.EcoliEngineProcess" title="ecoli.experiments.ecoli_engine_process.EcoliEngineProcess"><code class="xref py py-class docutils literal notranslate"><span class="pre">EcoliEngineProcess</span></code></a>
has a custom <a class="reference external" href="https://vivarium-core.readthedocs.io/en/latest/reference/api/vivarium.core.composer.html#vivarium.core.composer.Composer.generate_topology" title="(in Vivarium Core vv1.5.3)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">generate_topology()</span></code></a>
method to ensure that each port name is wired to a user-specified store
in the outer simulation. Then, every time the <a class="reference internal" href="#ecoli.processes.engine_process.EngineProcess" title="ecoli.processes.engine_process.EngineProcess"><code class="xref py py-class docutils literal notranslate"><span class="pre">EngineProcess</span></code></a>
is run, the value from the outer simulation store is copied to the store
located at the path in the inner simulation, the inner simulation is
incremented, and the final value of the store in the inner simulation
is copied to the store that the port points to in the outer simulation.
This allows outer simulation processes to indirectly read and modify the
value of stores in the inner simulation.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">stub_schemas</span></code>: a mapping from process names to a mapping from
paths in the inner simulation to the schema to use for the store at that
path. See <a class="reference internal" href="#ecoli.processes.engine_process.SchemaStub" title="ecoli.processes.engine_process.SchemaStub"><code class="xref py py-class docutils literal notranslate"><span class="pre">SchemaStub</span></code></a> for more details.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">tunnel_out_schemas</span></code>: a mapping from names of ports for tunnels out
to schemas to use for the stores that those ports point to. Helpful
for ensuring consistency in schemas specified for these stores.</p></li>
</ul>
<p>These options allow EngineProcess to create a full inner simulation,
increment it in sync with the process time step and the rest of the
outer simulation, and read/modify values in both the inner and outer
simulations over time.</p>
<dl class="py method">
<dt class="sig sig-object py" id="ecoli.processes.engine_process.EngineProcess.calculate_timestep">
<span class="sig-name descname"><span class="pre">calculate_timestep</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">states</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ecoli/processes/engine_process.html#EngineProcess.calculate_timestep"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ecoli.processes.engine_process.EngineProcess.calculate_timestep" title="Link to this definition"></a></dt>
<dd><p>The time step for EngineProcess is always set to be the shortest
time step for an inner simulation process. This ensures that we never
accidentally skip over a scheduled update for a Process/Step.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ecoli.processes.engine_process.EngineProcess.create_emitter">
<span class="sig-name descname"><span class="pre">create_emitter</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ecoli/processes/engine_process.html#EngineProcess.create_emitter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ecoli.processes.engine_process.EngineProcess.create_emitter" title="Link to this definition"></a></dt>
<dd><p>Since EngineProcesses are often parallelized with multiprocessing,
we wait to create an emitter for each EngineProcess instance until
multiprocessing is initiated to avoid unusual locking or other issues.</p>
<p>This is the first thing called by <a class="reference internal" href="#ecoli.processes.engine_process.EngineProcess.next_update" title="ecoli.processes.engine_process.EngineProcess.next_update"><code class="xref py py-meth docutils literal notranslate"><span class="pre">next_update()</span></code></a>
the first time it is run.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ecoli.processes.engine_process.EngineProcess.defaults">
<span class="sig-name descname"><span class="pre">defaults</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'agent_id':</span> <span class="pre">'0',</span> <span class="pre">'divide':</span> <span class="pre">False,</span> <span class="pre">'division_threshold':</span> <span class="pre">None,</span> <span class="pre">'division_variable':</span> <span class="pre">None,</span> <span class="pre">'emit_paths':</span> <span class="pre">(),</span> <span class="pre">'experiment_id':</span> <span class="pre">'',</span> <span class="pre">'inner_composer':</span> <span class="pre">None,</span> <span class="pre">'inner_composer_config':</span> <span class="pre">{},</span> <span class="pre">'inner_emitter':</span> <span class="pre">'null',</span> <span class="pre">'inner_same_timestep':</span> <span class="pre">False,</span> <span class="pre">'outer_composer':</span> <span class="pre">None,</span> <span class="pre">'outer_composer_config':</span> <span class="pre">{},</span> <span class="pre">'seed':</span> <span class="pre">0,</span> <span class="pre">'start_time':</span> <span class="pre">0,</span> <span class="pre">'stub_schemas':</span> <span class="pre">{},</span> <span class="pre">'tunnel_out_schemas':</span> <span class="pre">{},</span> <span class="pre">'tunnels_in':</span> <span class="pre">{}}</span></em><a class="headerlink" href="#ecoli.processes.engine_process.EngineProcess.defaults" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ecoli.processes.engine_process.EngineProcess.initial_state">
<span class="sig-name descname"><span class="pre">initial_state</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ecoli/processes/engine_process.html#EngineProcess.initial_state"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ecoli.processes.engine_process.EngineProcess.initial_state" title="Link to this definition"></a></dt>
<dd><p>To ensure that the stores pointed to by the tunnel in ports accurately
reflect the values of the stores they tunnel to in the inner simulation,
we define a custom <a class="reference external" href="https://vivarium-core.readthedocs.io/en/latest/reference/api/vivarium.core.process.html#vivarium.core.process.Process.initial_state" title="(in Vivarium Core vv1.5.3)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">initial_state()</span></code></a>
method for EngineProcess that populates those stores at the start of the
simulation with their corresponding inner simulation store values.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ecoli.processes.engine_process.EngineProcess.next_update">
<span class="sig-name descname"><span class="pre">next_update</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">timestep</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">states</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ecoli/processes/engine_process.html#EngineProcess.next_update"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ecoli.processes.engine_process.EngineProcess.next_update" title="Link to this definition"></a></dt>
<dd><p>Update the inner simulation store values for tunnels in and out then
emit the inner simulation state. We emit at the start of
next_update() because the inner simulation is in-sync with the
outer simulation only after the stores in the internal state
that tunnel out have been synchronized with their corresponding
stores in the outer simulation.</p>
<p>Increment the inner simulation by the shortest time possible to
guarantee at least one Process/Step ran. If division is enabled,
check to see if the division variable has reached the threshold.
If so, divide the cell state into two daughter states and create
two new inner simulations using the inner composer configuration,
the outer composer, and the outer composer configuration.</p>
<p>Finally, figure out what updates to apply to the outer simulation
stores for tunnels in/out in order to mutate them the same way that
their corresponding stores in the inner simulation were mutated (if
at all) over the course of the increment in inner simulation time.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ecoli.processes.engine_process.EngineProcess.ports_schema">
<span class="sig-name descname"><span class="pre">ports_schema</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ecoli/processes/engine_process.html#EngineProcess.ports_schema"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ecoli.processes.engine_process.EngineProcess.ports_schema" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ecoli.processes.engine_process.EngineProcess.send_command">
<span class="sig-name descname"><span class="pre">send_command</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">command</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">args</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwargs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">run_pre_check</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ecoli/processes/engine_process.html#EngineProcess.send_command"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ecoli.processes.engine_process.EngineProcess.send_command" title="Link to this definition"></a></dt>
<dd><p>Override to handle special command ‘get_inner_state’ which
lets engine process pull out a dictionary containing the entire
inner simulation state.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ecoli.processes.engine_process.SchemaStub">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ecoli.processes.engine_process.</span></span><span class="sig-name descname"><span class="pre">SchemaStub</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parameters</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ecoli/processes/engine_process.html#SchemaStub"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ecoli.processes.engine_process.SchemaStub" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://vivarium-core.readthedocs.io/en/latest/reference/api/vivarium.core.process.html#vivarium.core.process.Step" title="(in Vivarium Core vv1.5.3)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Step</span></code></a></p>
<p>Stub process for providing schemas to an inner simulation.</p>
<p>When using <a class="reference internal" href="#ecoli.processes.engine_process.EngineProcess" title="ecoli.processes.engine_process.EngineProcess"><code class="xref py py-class docutils literal notranslate"><span class="pre">ecoli.processes.engine_process.EngineProcess</span></code></a>,
there may be processes in the outer simulation whose schemas you are
expecting to affect variables in the inner simulation. You can
include this stub process in your inner simulation to provide those
schemas from the outer simulation.</p>
<p>The process takes a single parameter, <code class="docutils literal notranslate"><span class="pre">ports_schema</span></code>, whose value
is the process’s ports schema to be provided to the inner
simulation.</p>
<p>We run these as Steps otherwise they could influence when other Steps run.
For example, if a SchemaStub was a Process with timestep 1 while all
other Processes had timestep 2, Steps like mass listener would run
after every second instead of every 2 seconds, which may not be desired.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>parameters</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><em>dict</em></a><em> | </em><em>None</em>)</p>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="ecoli.processes.engine_process.SchemaStub.defaults">
<span class="sig-name descname"><span class="pre">defaults</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><span class="pre">dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><span class="pre">Any</span></a><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'ports_schema':</span> <span class="pre">{}}</span></em><a class="headerlink" href="#ecoli.processes.engine_process.SchemaStub.defaults" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ecoli.processes.engine_process.SchemaStub.next_update">
<span class="sig-name descname"><span class="pre">next_update</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">timestep</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">states</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ecoli/processes/engine_process.html#SchemaStub.next_update"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ecoli.processes.engine_process.SchemaStub.next_update" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ecoli.processes.engine_process.SchemaStub.ports_schema">
<span class="sig-name descname"><span class="pre">ports_schema</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ecoli/processes/engine_process.html#SchemaStub.ports_schema"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ecoli.processes.engine_process.SchemaStub.ports_schema" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ecoli.processes.engine_process._InnerComposer">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ecoli.processes.engine_process.</span></span><span class="sig-name descname"><span class="pre">_InnerComposer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ecoli/processes/engine_process.html#_InnerComposer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ecoli.processes.engine_process._InnerComposer" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://vivarium-core.readthedocs.io/en/latest/reference/api/vivarium.core.composer.html#vivarium.core.composer.Composer" title="(in Vivarium Core vv1.5.3)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Composer</span></code></a></p>
<p>Base class for <a class="reference external" href="https://vivarium-core.readthedocs.io/en/latest/reference/glossary.html#term-composer" title="(in Vivarium Core vv1.5.3)"><span class="xref std std-term">composer</span></a> classes.</p>
<p>Composers generate <a class="reference external" href="https://vivarium-core.readthedocs.io/en/latest/reference/glossary.html#term-composites" title="(in Vivarium Core vv1.5.3)"><span class="xref std std-term">composites</span></a>.</p>
<p>All <a class="reference external" href="https://vivarium-core.readthedocs.io/en/latest/reference/glossary.html#term-composer" title="(in Vivarium Core vv1.5.3)"><span class="xref std std-term">composer</span></a> classes must inherit from this class.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>config</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><em>dict</em></a><em> | </em><em>None</em>) – Dictionary of configuration options that can
override the class defaults.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="ecoli.processes.engine_process._InnerComposer.generate_processes">
<span class="sig-name descname"><span class="pre">generate_processes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ecoli/processes/engine_process.html#_InnerComposer.generate_processes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ecoli.processes.engine_process._InnerComposer.generate_processes" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ecoli.processes.engine_process._InnerComposer.generate_topology">
<span class="sig-name descname"><span class="pre">generate_topology</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ecoli/processes/engine_process.html#_InnerComposer.generate_topology"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ecoli.processes.engine_process._InnerComposer.generate_topology" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ecoli.processes.engine_process._OuterComposer">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ecoli.processes.engine_process.</span></span><span class="sig-name descname"><span class="pre">_OuterComposer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ecoli/processes/engine_process.html#_OuterComposer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ecoli.processes.engine_process._OuterComposer" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://vivarium-core.readthedocs.io/en/latest/reference/api/vivarium.core.composer.html#vivarium.core.composer.Composer" title="(in Vivarium Core vv1.5.3)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Composer</span></code></a></p>
<p>Base class for <a class="reference external" href="https://vivarium-core.readthedocs.io/en/latest/reference/glossary.html#term-composer" title="(in Vivarium Core vv1.5.3)"><span class="xref std std-term">composer</span></a> classes.</p>
<p>Composers generate <a class="reference external" href="https://vivarium-core.readthedocs.io/en/latest/reference/glossary.html#term-composites" title="(in Vivarium Core vv1.5.3)"><span class="xref std std-term">composites</span></a>.</p>
<p>All <a class="reference external" href="https://vivarium-core.readthedocs.io/en/latest/reference/glossary.html#term-composer" title="(in Vivarium Core vv1.5.3)"><span class="xref std std-term">composer</span></a> classes must inherit from this class.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>config</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><em>dict</em></a><em> | </em><em>None</em>) – Dictionary of configuration options that can
override the class defaults.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="ecoli.processes.engine_process._OuterComposer.generate_processes">
<span class="sig-name descname"><span class="pre">generate_processes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ecoli/processes/engine_process.html#_OuterComposer.generate_processes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ecoli.processes.engine_process._OuterComposer.generate_processes" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ecoli.processes.engine_process._OuterComposer.generate_topology">
<span class="sig-name descname"><span class="pre">generate_topology</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ecoli/processes/engine_process.html#_OuterComposer.generate_topology"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ecoli.processes.engine_process._OuterComposer.generate_topology" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ecoli.processes.engine_process._ProcA">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ecoli.processes.engine_process.</span></span><span class="sig-name descname"><span class="pre">_ProcA</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parameters</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ecoli/processes/engine_process.html#_ProcA"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ecoli.processes.engine_process._ProcA" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://vivarium-core.readthedocs.io/en/latest/reference/api/vivarium.core.process.html#vivarium.core.process.Process" title="(in Vivarium Core vv1.5.3)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Process</span></code></a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>parameters</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><em>dict</em></a><em> | </em><em>None</em>)</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="ecoli.processes.engine_process._ProcA.next_update">
<span class="sig-name descname"><span class="pre">next_update</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">timestep</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">states</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ecoli/processes/engine_process.html#_ProcA.next_update"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ecoli.processes.engine_process._ProcA.next_update" title="Link to this definition"></a></dt>
<dd><p>Each timestep, <code class="docutils literal notranslate"><span class="pre">port_a</span> <span class="pre">+=</span> <span class="pre">port_c</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ecoli.processes.engine_process._ProcA.ports_schema">
<span class="sig-name descname"><span class="pre">ports_schema</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ecoli/processes/engine_process.html#_ProcA.ports_schema"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ecoli.processes.engine_process._ProcA.ports_schema" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ecoli.processes.engine_process._ProcB">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ecoli.processes.engine_process.</span></span><span class="sig-name descname"><span class="pre">_ProcB</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parameters</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ecoli/processes/engine_process.html#_ProcB"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ecoli.processes.engine_process._ProcB" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://vivarium-core.readthedocs.io/en/latest/reference/api/vivarium.core.process.html#vivarium.core.process.Process" title="(in Vivarium Core vv1.5.3)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Process</span></code></a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>parameters</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><em>dict</em></a><em> | </em><em>None</em>)</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="ecoli.processes.engine_process._ProcB.next_update">
<span class="sig-name descname"><span class="pre">next_update</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">timestep</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">states</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ecoli/processes/engine_process.html#_ProcB.next_update"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ecoli.processes.engine_process._ProcB.next_update" title="Link to this definition"></a></dt>
<dd><p>Each timestep, <code class="docutils literal notranslate"><span class="pre">port_b</span> <span class="pre">+=</span> <span class="pre">1</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ecoli.processes.engine_process._ProcB.ports_schema">
<span class="sig-name descname"><span class="pre">ports_schema</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ecoli/processes/engine_process.html#_ProcB.ports_schema"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ecoli.processes.engine_process._ProcB.ports_schema" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ecoli.processes.engine_process._ProcC">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ecoli.processes.engine_process.</span></span><span class="sig-name descname"><span class="pre">_ProcC</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parameters</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ecoli/processes/engine_process.html#_ProcC"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ecoli.processes.engine_process._ProcC" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://vivarium-core.readthedocs.io/en/latest/reference/api/vivarium.core.process.html#vivarium.core.process.Process" title="(in Vivarium Core vv1.5.3)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Process</span></code></a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>parameters</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><em>dict</em></a><em> | </em><em>None</em>)</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="ecoli.processes.engine_process._ProcC.next_update">
<span class="sig-name descname"><span class="pre">next_update</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">timestep</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">states</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ecoli/processes/engine_process.html#_ProcC.next_update"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ecoli.processes.engine_process._ProcC.next_update" title="Link to this definition"></a></dt>
<dd><p>Each timestep, <code class="docutils literal notranslate"><span class="pre">port_c</span> <span class="pre">+=</span> <span class="pre">port_b</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ecoli.processes.engine_process._ProcC.ports_schema">
<span class="sig-name descname"><span class="pre">ports_schema</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ecoli/processes/engine_process.html#_ProcC.ports_schema"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ecoli.processes.engine_process._ProcC.ports_schema" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ecoli.processes.engine_process._get_path_net_depth">
<span class="sig-prename descclassname"><span class="pre">ecoli.processes.engine_process.</span></span><span class="sig-name descname"><span class="pre">_get_path_net_depth</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ecoli/processes/engine_process.html#_get_path_net_depth"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ecoli.processes.engine_process._get_path_net_depth" title="Link to this definition"></a></dt>
<dd><p>Resolve a tuple path to figure out its depth, subtracting one for
every “..” encountered.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)"><em>tuple</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>]</em>)</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ecoli.processes.engine_process._inverse_update">
<span class="sig-prename descclassname"><span class="pre">ecoli.processes.engine_process.</span></span><span class="sig-name descname"><span class="pre">_inverse_update</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">initial_state</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">final_state</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">store</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">updater_registry_reverse</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ecoli/processes/engine_process.html#_inverse_update"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ecoli.processes.engine_process._inverse_update" title="Link to this definition"></a></dt>
<dd><p>Given a dictionary containing the current values contained inside a potentially
nested store and a dictionary containing the final values inside that same
store, calculate an update that can be passed such that calling the updater
of said store with the calculated update causes the values in the store
to change from their current values to the provided final values.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>initial_state</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><em>Any</em></a>) – Current values (potentially nested) in store</p></li>
<li><p><strong>final_state</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><em>Any</em></a>) – Final values (potentially nested) in store that we desire</p></li>
<li><p><strong>store</strong> (<a class="reference external" href="https://vivarium-core.readthedocs.io/en/latest/reference/api/vivarium.core.store.html#vivarium.core.store.Store" title="(in Vivarium Core vv1.5.3)"><em>Store</em></a>) – Store (potentially nested) that we are trying to mutate</p></li>
<li><p><strong>updater_registry_reverse</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><em>dict</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(in Python v3.13)"><em>Callable</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>]</em>) – A mapping from updater functions to the string
names they are registered as in <a class="reference external" href="https://vivarium-core.readthedocs.io/en/latest/reference/api/vivarium.core.registry.html#vivarium.core.registry.updater_registry" title="(in Vivarium Core vv1.5.3)"><code class="xref py py-data docutils literal notranslate"><span class="pre">updater_registry</span></code></a></p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Update dictionary that when used to update <code class="docutils literal notranslate"><span class="pre">store</span></code> by calling its (or its sub-stores)
updaters, causes its values to change from <code class="docutils literal notranslate"><span class="pre">initial_state</span></code> to <code class="docutils literal notranslate"><span class="pre">final_state</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ecoli.processes.engine_process.cap_tunneling_paths">
<span class="sig-prename descclassname"><span class="pre">ecoli.processes.engine_process.</span></span><span class="sig-name descname"><span class="pre">cap_tunneling_paths</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">topology</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outer</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">()</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ecoli/processes/engine_process.html#cap_tunneling_paths"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ecoli.processes.engine_process.cap_tunneling_paths" title="Link to this definition"></a></dt>
<dd><p>For ports in the inner simulation that point to stores
outside, this function caps those stores to point to a
dummy store that is populated with the value of the actual
store in the outer simulation in the <a class="reference internal" href="#ecoli.processes.engine_process.EngineProcess.next_update" title="ecoli.processes.engine_process.EngineProcess.next_update"><code class="xref py py-meth docutils literal notranslate"><span class="pre">next_update()</span></code></a>
method of <a class="reference internal" href="#ecoli.processes.engine_process.EngineProcess" title="ecoli.processes.engine_process.EngineProcess"><code class="xref py py-class docutils literal notranslate"><span class="pre">EngineProcess</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>topology</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><em>dict</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><em>Any</em></a><em>]</em>) – Topology of inner simulation in <a class="reference internal" href="#ecoli.processes.engine_process.EngineProcess" title="ecoli.processes.engine_process.EngineProcess"><code class="xref py py-class docutils literal notranslate"><span class="pre">EngineProcess</span></code></a>.
Mutated in place such that ports pointing to stores located
outside the inner simulation are capped and instead point
to top-level stores called “port_name_tunnel”</p></li>
<li><p><strong>outer</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)"><em>tuple</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>, </em><em>...</em><em>]</em>) – Current port path inside topology (for recursively
travelling topology with this function)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Mapping from paths to ports that were capped as described above
to the names of the new top-level stores they point to.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)">dict</a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)">tuple</a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a>, …], <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a>]</p>
</dd>
</dl>
</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="ecoli.processes.division_detector.html" class="btn btn-neutral float-left" title="ecoli.processes.division_detector" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="ecoli.processes.enzyme_kinetics.html" class="btn btn-neutral float-right" title="ecoli.processes.enzyme_kinetics" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021-2025, The Vivarium E. coli Authors.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>